{"ast":null,"code":"import _toConsumableArray from\"/Users/tarick/Documents/GitHub/itunes-app/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/tarick/Documents/GitHub/itunes-app/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tarick/Documents/GitHub/itunes-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tarick/Documents/GitHub/itunes-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import Favorites from'./Favorites';import Header from'./Header';import Results from'./Results';import Search from'./Search';import Modal from'./Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Set up state variables for search term, media type, search results, and favorites\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),term=_useState2[0],setTerm=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),media=_useState4[0],setMedia=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchResults=_useState6[0],setSearchResults=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),favorites=_useState8[0],setFavorites=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showModal=_useState10[0],setShowModal=_useState10[1];// new state variable for the modal\n// Function to handle the search button click event\nvar handleSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api/search?term=\".concat(term,\"&media=\").concat(media));case 3:response=_context.sent;console.log(response);// Parse the JSON response data and update the search results state variable\n_context.next=7;return response.json();case 7:data=_context.sent;setSearchResults(data.results);console.log(data.results);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);// Log any errors to the console\nconsole.error(_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function handleSearch(){return _ref.apply(this,arguments);};}();// Function to add an item to the favorites list\nvar handleFavorite=function handleFavorite(item){// Check if the item is already in the favorites array\nvar alreadyAdded=favorites.some(function(favorite){return favorite.trackId===item.trackId;});// Only add the item if it hasn't been added before\nif(!alreadyAdded){// Update the favorites state variable by creating a new array with the current favorites and the new item\nsetFavorites([].concat(_toConsumableArray(favorites),[item]));}};// Function to remove an item from the favorites list\nvar handleRemoveFavorite=function handleRemoveFavorite(item){// Update the favorites state variable by creating a new array with all favorites except the one being removed\nsetFavorites(favorites.filter(function(favorite){return favorite.trackId!==item.trackId;}));};// Function to toggle the display of the modal\nvar toggleModal=function toggleModal(){setShowModal(!showModal);};// Render the search input, search results, and favorites list\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Search,{term:term,setTerm:setTerm,toggleFavorites:toggleModal// update the toggleFavorites prop to toggle the modal instead of the favorites component\n,handleSearch:handleSearch,media:media,setMedia:setMedia}),searchResults.length>0&&/*#__PURE__*/_jsx(Results,{searchResults:searchResults,handleFavorite:handleFavorite}),showModal&&/*#__PURE__*/ // render the modal only if showModal is true\n_jsx(Modal,{onClose:toggleModal,children:/*#__PURE__*/_jsx(Favorites,{favorites:favorites,handleRemoveFavorite:handleRemoveFavorite})})]});}export default App;","map":{"version":3,"names":["useState","Favorites","Header","Results","Search","Modal","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","term","setTerm","_useState3","_useState4","media","setMedia","_useState5","_useState6","searchResults","setSearchResults","_useState7","_useState8","favorites","setFavorites","_useState9","_useState10","showModal","setShowModal","handleSearch","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","console","log","json","results","t0","error","stop","apply","arguments","handleFavorite","item","alreadyAdded","some","favorite","trackId","_toConsumableArray","handleRemoveFavorite","filter","toggleModal","className","children","toggleFavorites","length","onClose"],"sources":["/Users/tarick/Documents/GitHub/itunes-app/frontend/src/components/Itunes.js"],"sourcesContent":["import { useState } from 'react';\nimport Favorites from './Favorites';\nimport Header from './Header';\nimport Results from './Results';\nimport Search from './Search';\nimport Modal from './Modal';\n\nfunction App() {\n  // Set up state variables for search term, media type, search results, and favorites\n  const [term, setTerm] = useState('');\n  const [media, setMedia] = useState('');\n  const [searchResults, setSearchResults] = useState('');\n  const [favorites, setFavorites] = useState([]);\n  const [showModal, setShowModal] = useState(false); // new state variable for the modal\n\n  // Function to handle the search button click event\n  const handleSearch = async () => {\n    try {\n      // Make a GET request to the server API with the search term and media type\n      const response = await fetch(`/api/search?term=${term}&media=${media}`);\n      console.log(response)\n      // Parse the JSON response data and update the search results state variable\n      const data = await response.json();\n      setSearchResults(data.results);\n      console.log(data.results)\n    } catch (error) {\n      // Log any errors to the console\n      console.error(error);\n    }\n  };\n\n  // Function to add an item to the favorites list\n  const handleFavorite = (item) => {\n    // Check if the item is already in the favorites array\n    const alreadyAdded = favorites.some((favorite) => favorite.trackId === item.trackId);\n    \n    // Only add the item if it hasn't been added before\n    if (!alreadyAdded) {\n      // Update the favorites state variable by creating a new array with the current favorites and the new item\n      setFavorites([...favorites, item]);\n    }\n  };\n  \n\n  // Function to remove an item from the favorites list\n  const handleRemoveFavorite = (item) => {\n    // Update the favorites state variable by creating a new array with all favorites except the one being removed\n    setFavorites(favorites.filter((favorite) => favorite.trackId !== item.trackId));\n  };\n\n  // Function to toggle the display of the modal\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  // Render the search input, search results, and favorites list\n  return (\n    <div className=\"main-container\">\n      <Header />\n      <Search\n        term={term}\n        setTerm={setTerm}\n        toggleFavorites={toggleModal} // update the toggleFavorites prop to toggle the modal instead of the favorites component\n        handleSearch={handleSearch}\n        media={media}\n        setMedia={setMedia}\n        />\n      {searchResults.length > 0 &&\n      <Results\n        searchResults={searchResults}\n        handleFavorite={handleFavorite}\n        />}\n      {showModal && // render the modal only if showModal is true\n      <Modal onClose={toggleModal}>\n        <Favorites\n          favorites={favorites}\n          handleRemoveFavorite={handleRemoveFavorite}\n        />\n      </Modal>}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"wjBAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,KAAM,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb;AACA,IAAAC,SAAA,CAAwBX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAA0BhB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAA0CpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/CE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtC,IAAAG,UAAA,CAAkCxB,QAAQ,CAAC,EAAE,CAAC,CAAAyB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAAkC5B,QAAQ,CAAC,KAAK,CAAC,CAAA6B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA1CE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAAqB;AAEnD;AACA,GAAM,CAAAG,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGM,CAAAC,KAAK,qBAAAC,MAAA,CAAqBhC,IAAI,YAAAgC,MAAA,CAAU5B,KAAK,EAAG,QAAjEoB,QAAQ,CAAAI,QAAA,CAAAK,IAAA,CACdC,OAAO,CAACC,GAAG,CAACX,QAAQ,CAAC,CACrB;AAAAI,QAAA,CAAAE,IAAA,SACmB,CAAAN,QAAQ,CAACY,IAAI,EAAE,QAA5BX,IAAI,CAAAG,QAAA,CAAAK,IAAA,CACVxB,gBAAgB,CAACgB,IAAI,CAACY,OAAO,CAAC,CAC9BH,OAAO,CAACC,GAAG,CAACV,IAAI,CAACY,OAAO,CAAC,CAAAT,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAEzB;AACAM,OAAO,CAACK,KAAK,CAAAX,QAAA,CAAAU,EAAA,CAAO,CAAC,yBAAAV,QAAA,CAAAY,IAAA,MAAAjB,OAAA,iBAExB,kBAbK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAAsB,KAAA,MAAAC,SAAA,OAajB,CAED;AACA,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,IAAI,CAAK,CAC/B;AACA,GAAM,CAAAC,YAAY,CAAGjC,SAAS,CAACkC,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,OAAO,GAAKJ,IAAI,CAACI,OAAO,GAAC,CAEpF;AACA,GAAI,CAACH,YAAY,CAAE,CACjB;AACAhC,YAAY,IAAAmB,MAAA,CAAAiB,kBAAA,CAAKrC,SAAS,GAAEgC,IAAI,GAAE,CACpC,CACF,CAAC,CAGD;AACA,GAAM,CAAAM,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAIN,IAAI,CAAK,CACrC;AACA/B,YAAY,CAACD,SAAS,CAACuC,MAAM,CAAC,SAACJ,QAAQ,QAAK,CAAAA,QAAQ,CAACC,OAAO,GAAKJ,IAAI,CAACI,OAAO,GAAC,CAAC,CACjF,CAAC,CAED;AACA,GAAM,CAAAI,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxBnC,YAAY,CAAC,CAACD,SAAS,CAAC,CAC1B,CAAC,CAED;AACA,mBACErB,KAAA,QAAK0D,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B7D,IAAA,CAACL,MAAM,IAAG,cACVK,IAAA,CAACH,MAAM,EACLU,IAAI,CAAEA,IAAK,CACXC,OAAO,CAAEA,OAAQ,CACjBsD,eAAe,CAAEH,WAAa;AAAA,CAC9BlC,YAAY,CAAEA,YAAa,CAC3Bd,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAEA,QAAS,EACjB,CACHG,aAAa,CAACgD,MAAM,CAAG,CAAC,eACzB/D,IAAA,CAACJ,OAAO,EACNmB,aAAa,CAAEA,aAAc,CAC7BmC,cAAc,CAAEA,cAAe,EAC7B,CACH3B,SAAS,gBAAI;AACdvB,IAAA,CAACF,KAAK,EAACkE,OAAO,CAAEL,WAAY,CAAAE,QAAA,cAC1B7D,IAAA,CAACN,SAAS,EACRyB,SAAS,CAAEA,SAAU,CACrBsC,oBAAoB,CAAEA,oBAAqB,EAC3C,EACI,GACJ,CAEV,CAEA,cAAe,CAAAtD,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}